services:
  runner:
    build: .
    command: ["bun", "e2e/runner.ts"]
    environment:
      FLAME_SECRET: flame-secret
      PORT: "8080"
    ports:
      - "8080:8080"
  parent:
    build: .
    command: ["bun", "e2e/parent.ts"]
    environment:
      FLAME_SECRET: flame-secret
      RUNNER_URL: http://runner:8080
    depends_on:
      - runner
